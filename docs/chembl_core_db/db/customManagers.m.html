<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>chembl_core_db.db.customManagers API documentation</title>
    <meta name="description" content="" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.get_smarts">get_smarts</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager">CompoundMolsManager</a></span>
        
          
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.__init__">__init__</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.aggregate">aggregate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.all">all</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.annotate">annotate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.bulk_create">bulk_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.check">check</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.complex_filter">complex_filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.contribute_to_class">contribute_to_class</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.count">count</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.create">create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.dates">dates</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.datetimes">datetimes</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.db_manager">db_manager</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.deconstruct">deconstruct</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.defer">defer</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.distinct">distinct</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.earliest">earliest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.exclude">exclude</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.exists">exists</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.extra">extra</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.filter">filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.first">first</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.flexmatch">flexmatch</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.from_queryset">from_queryset</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.get">get</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.get_column">get_column</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.get_or_create">get_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.get_query_set">get_query_set</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.get_queryset">get_queryset</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.in_bulk">in_bulk</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.iterator">iterator</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.last">last</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.latest">latest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.none">none</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.only">only</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.order_by">order_by</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.prefetch_related">prefetch_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.raw">raw</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.reverse">reverse</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.select_for_update">select_for_update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.select_related">select_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.similar_to">similar_to</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.update">update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.update_or_create">update_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.using">using</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.values">values</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.values_list">values_list</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsManager.with_substructure">with_substructure</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></span>
        
          
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.flexmatch">flexmatch</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.get_column">get_column</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.similar_to">similar_to</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.with_substructure">with_substructure</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet">CompoundMolsQuerySet</a></span>
        
          
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.__init__">__init__</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.aggregate">aggregate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.all">all</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.annotate">annotate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.as_manager">as_manager</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.bulk_create">bulk_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.complex_filter">complex_filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.count">count</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.create">create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.dates">dates</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.datetimes">datetimes</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.defer">defer</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.delete">delete</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.distinct">distinct</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.earliest">earliest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.exclude">exclude</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.exists">exists</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.extra">extra</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.filter">filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.first">first</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.flexmatch">flexmatch</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.get">get</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_column">get_column</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_or_create">get_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.in_bulk">in_bulk</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.is_compatible_query_object_type">is_compatible_query_object_type</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.iterator">iterator</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.last">last</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.latest">latest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.none">none</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.only">only</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.order_by">order_by</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.prefetch_related">prefetch_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.raw">raw</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.reverse">reverse</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_for_update">select_for_update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_related">select_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.similar_to">similar_to</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.update">update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.update_or_create">update_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.using">using</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.values">values</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.values_list">values_list</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet.with_substructure">with_substructure</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager">MoleculeDictionaryManager</a></span>
        
          
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.__init__">__init__</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.aggregate">aggregate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.all">all</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.annotate">annotate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.bulk_create">bulk_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_natural_key_public_except_project">by_natural_key_public_except_project</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_project_and_natural_key">by_project_and_natural_key</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.check">check</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.complex_filter">complex_filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.contribute_to_class">contribute_to_class</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.count">count</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.create">create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.dates">dates</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.datetimes">datetimes</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.db_manager">db_manager</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.deconstruct">deconstruct</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.defer">defer</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.distinct">distinct</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.earliest">earliest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.exclude">exclude</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.exists">exists</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.extra">extra</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.filter">filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.first">first</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.from_queryset">from_queryset</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.get">get</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_or_create">get_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_query_set">get_query_set</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_queryset">get_queryset</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.in_bulk">in_bulk</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.iterator">iterator</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.last">last</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.latest">latest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.none">none</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.only">only</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.order_by">order_by</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.prefetch_related">prefetch_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.raw">raw</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.reverse">reverse</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_for_update">select_for_update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_related">select_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.update">update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.update_or_create">update_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.using">using</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.values">values</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager.values_list">values_list</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></span>
        
          
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_natural_key_public_except_project">by_natural_key_public_except_project</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_project_and_natural_key">by_project_and_natural_key</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet">MoleculeDictionaryQuerySet</a></span>
        
          
  <ul>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.__init__">__init__</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.aggregate">aggregate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.all">all</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.annotate">annotate</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.as_manager">as_manager</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.bulk_create">bulk_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_natural_key_public_except_project">by_natural_key_public_except_project</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_project_and_natural_key">by_project_and_natural_key</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.complex_filter">complex_filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.count">count</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.create">create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.dates">dates</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.datetimes">datetimes</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.defer">defer</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.delete">delete</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.distinct">distinct</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.earliest">earliest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exclude">exclude</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exists">exists</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.extra">extra</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.filter">filter</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.first">first</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get">get</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get_or_create">get_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.in_bulk">in_bulk</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.is_compatible_query_object_type">is_compatible_query_object_type</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.iterator">iterator</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.last">last</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.latest">latest</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.none">none</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.only">only</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.order_by">order_by</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.prefetch_related">prefetch_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.raw">raw</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.reverse">reverse</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_for_update">select_for_update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_related">select_related</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update">update</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update_or_create">update_or_create</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.using">using</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values">values</a></li>
    <li class="mono"><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values_list">values_list</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">chembl_core_db.db.customManagers</span> module</h1>
  
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers" class="source">
    <div class="codehilite"><pre><span></span><span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;mnowotka&#39;</span>

<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">connections</span>
<span class="kn">from</span> <span class="nn">django.db.models.query</span> <span class="kn">import</span> <span class="n">QuerySet</span>
<span class="kn">from</span> <span class="nn">django.db.models</span> <span class="kn">import</span> <span class="n">Q</span>

<span class="c1">#-----------------------------------------------------------------------------------------------------------------------</span>

<span class="k">def</span> <span class="nf">get_smarts</span><span class="p">(</span><span class="n">smiles</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces the methyl carbon atoms with a smarts pattern for any carbon atom </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">smiles</span>
    <span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span>
    <span class="n">new_letters</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">letters</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">previous</span> <span class="ow">and</span> <span class="n">letter</span> <span class="o">==</span> <span class="s2">&quot;)&quot;</span><span class="p">:</span>
            <span class="n">new_letters</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;[#6]&quot;</span>
        <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="s2">&quot;C&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">new_letters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;[#6]&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">previous</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="n">new_letters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
                <span class="k">continue</span>
        <span class="n">previous</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">new_letters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_letters</span><span class="p">)</span>




<span class="k">class</span> <span class="nc">CompoundMolsMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">get_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">db_column</span> <span class="ow">or</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">similar_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">):</span>
        <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
        <span class="n">molregno_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;molecule&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">similarity_index</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sim</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="ow">or</span> <span class="n">sim</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>

        <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;TO_NUMBER (molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">, &#39;normal&#39;))&quot;</span><span class="p">},</span>
                <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
                <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;, </span><span class="si">%s</span><span class="s2">, &#39;normal&#39;) BETWEEN </span><span class="si">%s</span><span class="s2"> AND &#39;100&#39;&quot;</span><span class="p">],</span>
                <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;c1ccccc1O&#39;::mol;&quot;</span><span class="p">)</span> <span class="c1"># dirty hack but what can I do...</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=</span><span class="si">%s</span><span class="s1">;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,))</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv)&quot;</span><span class="p">},</span>
                <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
                <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fps_rdkit.molregno = &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">db_table</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">molregno_column</span> <span class="o">+</span>
                       <span class="s2">&quot; and torsionbv_fp(</span><span class="si">%s</span><span class="s2">) </span><span class="si">%%</span><span class="s2"> torsionbv and tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv) between </span><span class="si">%s</span><span class="s2"> and 1.0&quot;</span><span class="p">],</span>
                <span class="n">tables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fps_rdkit&#39;</span><span class="p">],</span>
                <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-similarity&#39;</span><span class="p">],</span>
                <span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="n">structure</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)])</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=0.5;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">with_substructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
        <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(sss(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
            
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@&gt;</span><span class="si">%s</span><span class="s2">::qmol&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">get_smarts</span><span class="p">(</span><span class="n">structure</span><span class="p">),))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">flexmatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
        <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(flexmatch(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

<span class="c1">#-----------------------------------------------------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">CompoundMolsQuerySet</span><span class="p">(</span><span class="n">QuerySet</span><span class="p">,</span><span class="n">CompoundMolsMixin</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1">#-----------------------------------------------------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">CompoundMolsManager</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Manager</span><span class="p">,</span> <span class="n">CompoundMolsMixin</span><span class="p">):</span>
    
    <span class="n">use_for_related_fields</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">get_query_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CompoundMolsQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CompoundMolsQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
   


<span class="c1">#-----------------------------------------------------------------------------------------------------------------------</span>



<span class="k">class</span> <span class="nc">MoleculeDictionaryMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">by_natural_key_public_except_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Exclude the given project id from the query set&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                            <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                <span class="n">Q</span><span class="p">(</span><span class="n">public</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">)</span>
                                            <span class="p">)</span>


    <span class="k">def</span> <span class="nf">by_project_and_natural_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Get the given structure for that project&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                                           <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                           <span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">))</span>




<span class="k">class</span> <span class="nc">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="n">QuerySet</span><span class="p">,</span><span class="n">MoleculeDictionaryMixin</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">MoleculeDictionaryManager</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Manager</span><span class="p">,</span> <span class="n">MoleculeDictionaryMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_query_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.get_smarts">
    <p>def <span class="ident">get_smarts</span>(</p><p>smiles)</p>
    </div>
    

    
  
    <div class="desc"><p>Replaces the methyl carbon atoms with a smarts pattern for any carbon atom</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.get_smarts', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.get_smarts" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_smarts</span><span class="p">(</span><span class="n">smiles</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces the methyl carbon atoms with a smarts pattern for any carbon atom </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">smiles</span>
    <span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span>
    <span class="n">new_letters</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">letters</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">previous</span> <span class="ow">and</span> <span class="n">letter</span> <span class="o">==</span> <span class="s2">&quot;)&quot;</span><span class="p">:</span>
            <span class="n">new_letters</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;[#6]&quot;</span>
        <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="s2">&quot;C&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">new_letters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;[#6]&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">previous</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="n">new_letters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
                <span class="k">continue</span>
        <span class="n">previous</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">new_letters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_letters</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="chembl_core_db.db.customManagers.CompoundMolsManager" class="name">class <span class="ident">CompoundMolsManager</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CompoundMolsManager</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Manager</span><span class="p">,</span> <span class="n">CompoundMolsMixin</span><span class="p">):</span>
    
    <span class="n">use_for_related_fields</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">get_query_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CompoundMolsQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CompoundMolsQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#chembl_core_db.db.customManagers.CompoundMolsManager">CompoundMolsManager</a></li>
          <li>django.db.models.manager.Manager</li>
          <li>django.db.models.manager.BaseManagerFromQuerySet</li>
          <li>django.db.models.manager.BaseManager</li>
          <li><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsManager.creation_counter" class="name">var <span class="ident">creation_counter</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsManager.use_for_related_fields" class="name">var <span class="ident">use_for_related_fields</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsManager.use_in_migrations" class="name">var <span class="ident">use_in_migrations</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsManager.db" class="name">var <span class="ident">db</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.__init__', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_creation_counter</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_inherited</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hints</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.aggregate">
    <p>def <span class="ident">aggregate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary containing the calculations (aggregation)
over the current queryset</p>
<p>If args is present the expression is passed as a kwarg using
the Aggregate object's default alias.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.aggregate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.aggregate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.all">
    <p>def <span class="ident">all</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.all', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.all" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># We can&#39;t proxy this method through the `QuerySet` like we do for the</span>
    <span class="c1"># rest of the `QuerySet` methods. This is because `QuerySet.all()`</span>
    <span class="c1"># works by creating a &quot;copy&quot; of the current queryset and in making said</span>
    <span class="c1"># copy, all the cached `prefetch_related` lookups are lost. See the</span>
    <span class="c1"># implementation of `RelatedManager.get_queryset()` for a better</span>
    <span class="c1"># understanding of how this comes into play.</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.annotate">
    <p>def <span class="ident">annotate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a query set in which the returned objects have been annotated
with extra data or aggregations.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.annotate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.annotate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.bulk_create">
    <p>def <span class="ident">bulk_create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Inserts each of the instances into the database. This does <em>not</em> call
save() on each of the instances, does not send any pre/post save
signals, and does not set the primary key attribute if it is an
autoincrement field. Multi-table models are not supported.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.bulk_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.bulk_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.check">
    <p>def <span class="ident">check</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.check', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.check" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.complex_filter">
    <p>def <span class="ident">complex_filter</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with filter_obj added to the filters.</p>
<p>filter_obj can be a Q object (or anything with an add_to_query()
method) or a dictionary of keyword lookup arguments.</p>
<p>This exists to support framework features such as 'limit_choices_to',
and usually it will be more natural to use other methods.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.complex_filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.complex_filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.contribute_to_class">
    <p>def <span class="ident">contribute_to_class</span>(</p><p>self, model, name)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.contribute_to_class', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.contribute_to_class" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">contribute_to_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="c1"># TODO: Use weakref because of possible memory leak / circular reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="c1"># Only contribute the manager if the model is concrete</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">abstract</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">AbstractManagerDescriptor</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">swapped</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">SwappedManagerDescriptor</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># if not model._meta.abstract and not model._meta.swapped:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ManagerDescriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;_default_manager&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">or</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">creation_counter</span> <span class="o">&lt;</span> <span class="n">model</span><span class="o">.</span><span class="n">_default_manager</span><span class="o">.</span><span class="n">creation_counter</span><span class="p">):</span>
        <span class="n">model</span><span class="o">.</span><span class="n">_default_manager</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="n">abstract</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">abstract</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_inherited</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">proxy</span><span class="p">):</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">managers</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">creation_counter</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">abstract</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.count">
    <p>def <span class="ident">count</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs a SELECT COUNT() and returns the number of records as an
integer.</p>
<p>If the QuerySet is already fully cached this simply returns the length
of the cached results set to avoid multiple SELECT COUNT(*) calls.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.count', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.count" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.create">
    <p>def <span class="ident">create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates a new object with the given kwargs, saving it to the database
and returning the created object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.dates">
    <p>def <span class="ident">dates</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of date objects representing all available dates for
the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.dates', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.dates" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.datetimes">
    <p>def <span class="ident">datetimes</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of datetime objects representing all available
datetimes for the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.datetimes', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.datetimes" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.db_manager">
    <p>def <span class="ident">db_manager</span>(</p><p>self, using=None, hints=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.db_manager', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.db_manager" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">db_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">hints</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">using</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_db</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_hints</span> <span class="o">=</span> <span class="n">hints</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hints</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.deconstruct">
    <p>def <span class="ident">deconstruct</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a 5-tuple of the form (as_manager (True), manager_class,
queryset_class, args, kwargs).</p>
<p>Raises a ValueError if the manager is dynamically generated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.deconstruct', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.deconstruct" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">deconstruct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a 5-tuple of the form (as_manager (True), manager_class,</span>
<span class="sd">    queryset_class, args, kwargs).</span>
<span class="sd">    Raises a ValueError if the manager is dynamically generated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qs_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queryset_class</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_built_with_as_manager&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
        <span class="c1"># using MyQuerySet.as_manager()</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">True</span><span class="p">,</span>  <span class="c1"># as_manager</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># manager_class</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">qs_class</span><span class="o">.</span><span class="n">__module__</span><span class="p">,</span> <span class="n">qs_class</span><span class="o">.</span><span class="n">__name__</span><span class="p">),</span>  <span class="c1"># qs_class</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># args</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># kwargs</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__module__</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
        <span class="c1"># Make sure it&#39;s actually there and not an inner class</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Could not find manager </span><span class="si">%s</span><span class="s2"> in </span><span class="si">%s</span><span class="s2">.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Please note that you need to inherit from managers you &quot;</span>
                <span class="s2">&quot;dynamically generated with &#39;from_queryset()&#39;.&quot;</span>
                <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">module_name</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">False</span><span class="p">,</span>  <span class="c1"># as_manager</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>  <span class="c1"># manager_class</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># qs_class</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_constructor_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>  <span class="c1"># args</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_constructor_args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="c1"># kwargs</span>
        <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.defer">
    <p>def <span class="ident">defer</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Defers the loading of data for certain fields until they are accessed.
The set of fields to defer is added to any existing set of deferred
fields. The only exception to this is if None is passed in as the only
parameter, in which case all deferrals are removed (None acts as a
reset option).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.defer', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.defer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.distinct">
    <p>def <span class="ident">distinct</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select only distinct results.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.distinct', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.distinct" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.earliest">
    <p>def <span class="ident">earliest</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.earliest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.earliest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.exclude">
    <p>def <span class="ident">exclude</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with NOT (args) ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.exclude', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.exclude" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.exists">
    <p>def <span class="ident">exists</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.exists', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.exists" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.extra">
    <p>def <span class="ident">extra</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Adds extra SQL fragments to the query.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.extra', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.extra" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.filter">
    <p>def <span class="ident">filter</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the args ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.first">
    <p>def <span class="ident">first</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the first object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.first', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.flexmatch">
    <p>def <span class="ident">flexmatch</span>(</p><p>self, structure)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.flexmatch">flexmatch</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.flexmatch', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.flexmatch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">flexmatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(flexmatch(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.from_queryset">
    <p>def <span class="ident">from_queryset</span>(</p><p>cls, queryset_class, class_name=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.from_queryset', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.from_queryset" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_queryset</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">queryset_class</span><span class="p">,</span> <span class="n">class_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">class_name</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">From</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">queryset_class</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
    <span class="n">class_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;_queryset_class&#39;</span><span class="p">:</span> <span class="n">queryset_class</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">class_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">_get_queryset_methods</span><span class="p">(</span><span class="n">queryset_class</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="p">(</span><span class="n">cls</span><span class="p">,),</span> <span class="n">class_dict</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.get">
    <p>def <span class="ident">get</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs the query and returns a single object matching the given
keyword arguments.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.get', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.get" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.get_column">
    <p>def <span class="ident">get_column</span>(</p><p>self, name)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.get_column">get_column</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.get_column', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.get_column" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">db_column</span> <span class="ow">or</span> <span class="n">name</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.get_or_create">
    <p>def <span class="ident">get_or_create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, creating one if necessary.
Returns a tuple of (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.get_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.get_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.get_query_set">
    <p>def <span class="ident">get_query_set</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.get_query_set', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.get_query_set" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_query_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">CompoundMolsQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.get_queryset">
    <p>def <span class="ident">get_queryset</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.get_queryset', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.get_queryset" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">CompoundMolsQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.in_bulk">
    <p>def <span class="ident">in_bulk</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary mapping each of the given IDs to the object with
that ID.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.in_bulk', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.in_bulk" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.iterator">
    <p>def <span class="ident">iterator</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>An iterator over the results from applying this QuerySet to the
database.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.iterator', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.iterator" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.last">
    <p>def <span class="ident">last</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the last object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.last', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.latest">
    <p>def <span class="ident">latest</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.latest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.latest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.none">
    <p>def <span class="ident">none</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns an empty QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.none', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.none" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.only">
    <p>def <span class="ident">only</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Essentially, the opposite of defer. Only the fields passed into this
method and that are not already specified as deferred are loaded
immediately when the queryset is evaluated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.only', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.only" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.order_by">
    <p>def <span class="ident">order_by</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the ordering changed.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.order_by', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.order_by" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.prefetch_related">
    <p>def <span class="ident">prefetch_related</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will prefetch the specified
Many-To-One and Many-To-Many related objects when the QuerySet is
evaluated.</p>
<p>When prefetch_related() is called more than once, the list of lookups to
prefetch is appended to. If prefetch_related(None) is called, the list
is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.prefetch_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.prefetch_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.raw">
    <p>def <span class="ident">raw</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.raw', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.raw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.reverse">
    <p>def <span class="ident">reverse</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Reverses the ordering of the QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.reverse', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.reverse" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.select_for_update">
    <p>def <span class="ident">select_for_update</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select objects with a
FOR UPDATE lock.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.select_for_update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.select_for_update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.select_related">
    <p>def <span class="ident">select_related</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select related objects.</p>
<p>If fields are specified, they must be ForeignKey fields and only those
related objects are included in the selection.</p>
<p>If select_related(None) is called, the list is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.select_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.select_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.similar_to">
    <p>def <span class="ident">similar_to</span>(</p><p>self, structure, similarity_index)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.similar_to">similar_to</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.similar_to', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.similar_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">similar_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">molregno_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;molecule&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">similarity_index</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sim</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="ow">or</span> <span class="n">sim</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;TO_NUMBER (molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">, &#39;normal&#39;))&quot;</span><span class="p">},</span>
            <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
            <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;, </span><span class="si">%s</span><span class="s2">, &#39;normal&#39;) BETWEEN </span><span class="si">%s</span><span class="s2"> AND &#39;100&#39;&quot;</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;c1ccccc1O&#39;::mol;&quot;</span><span class="p">)</span> <span class="c1"># dirty hack but what can I do...</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=</span><span class="si">%s</span><span class="s1">;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,))</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv)&quot;</span><span class="p">},</span>
            <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
            <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fps_rdkit.molregno = &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">db_table</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">molregno_column</span> <span class="o">+</span>
                   <span class="s2">&quot; and torsionbv_fp(</span><span class="si">%s</span><span class="s2">) </span><span class="si">%%</span><span class="s2"> torsionbv and tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv) between </span><span class="si">%s</span><span class="s2"> and 1.0&quot;</span><span class="p">],</span>
            <span class="n">tables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fps_rdkit&#39;</span><span class="p">],</span>
            <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-similarity&#39;</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="n">structure</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)])</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=0.5;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.update">
    <p>def <span class="ident">update</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Updates all elements in the current QuerySet, setting all the given
fields to the appropriate values.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.update_or_create">
    <p>def <span class="ident">update_or_create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, updating one with defaults
if it exists, otherwise creates a new one.
Returns a tuple (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.update_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.update_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.using">
    <p>def <span class="ident">using</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Selects which database this QuerySet should execute its query against.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.using', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.using" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.values">
    <p>def <span class="ident">values</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.values', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.values" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.values_list">
    <p>def <span class="ident">values_list</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.values_list', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.values_list" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsManager.with_substructure">
    <p>def <span class="ident">with_substructure</span>(</p><p>self, structure)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.with_substructure">with_substructure</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsManager.with_substructure', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsManager.with_substructure" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_substructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(sss(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@&gt;</span><span class="si">%s</span><span class="s2">::qmol&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">get_smarts</span><span class="p">(</span><span class="n">structure</span><span class="p">),))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="chembl_core_db.db.customManagers.CompoundMolsMixin" class="name">class <span class="ident">CompoundMolsMixin</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsMixin', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsMixin" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CompoundMolsMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">get_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">db_column</span> <span class="ow">or</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">similar_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">):</span>
        <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
        <span class="n">molregno_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;molecule&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">similarity_index</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sim</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="ow">or</span> <span class="n">sim</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>

        <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;TO_NUMBER (molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">, &#39;normal&#39;))&quot;</span><span class="p">},</span>
                <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
                <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;, </span><span class="si">%s</span><span class="s2">, &#39;normal&#39;) BETWEEN </span><span class="si">%s</span><span class="s2"> AND &#39;100&#39;&quot;</span><span class="p">],</span>
                <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;c1ccccc1O&#39;::mol;&quot;</span><span class="p">)</span> <span class="c1"># dirty hack but what can I do...</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=</span><span class="si">%s</span><span class="s1">;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,))</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv)&quot;</span><span class="p">},</span>
                <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
                <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fps_rdkit.molregno = &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">db_table</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">molregno_column</span> <span class="o">+</span>
                       <span class="s2">&quot; and torsionbv_fp(</span><span class="si">%s</span><span class="s2">) </span><span class="si">%%</span><span class="s2"> torsionbv and tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv) between </span><span class="si">%s</span><span class="s2"> and 1.0&quot;</span><span class="p">],</span>
                <span class="n">tables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fps_rdkit&#39;</span><span class="p">],</span>
                <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-similarity&#39;</span><span class="p">],</span>
                <span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="n">structure</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)])</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=0.5;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ret</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">with_substructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
        <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(sss(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
            
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@&gt;</span><span class="si">%s</span><span class="s2">::qmol&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">get_smarts</span><span class="p">(</span><span class="n">structure</span><span class="p">),))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">flexmatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
        <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(flexmatch(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
        <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsMixin.flexmatch">
    <p>def <span class="ident">flexmatch</span>(</p><p>self, structure)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsMixin.flexmatch', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsMixin.flexmatch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">flexmatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(flexmatch(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsMixin.get_column">
    <p>def <span class="ident">get_column</span>(</p><p>self, name)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsMixin.get_column', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsMixin.get_column" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">db_column</span> <span class="ow">or</span> <span class="n">name</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsMixin.similar_to">
    <p>def <span class="ident">similar_to</span>(</p><p>self, structure, similarity_index)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsMixin.similar_to', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsMixin.similar_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">similar_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">molregno_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;molecule&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">similarity_index</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sim</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="ow">or</span> <span class="n">sim</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;TO_NUMBER (molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">, &#39;normal&#39;))&quot;</span><span class="p">},</span>
            <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
            <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;, </span><span class="si">%s</span><span class="s2">, &#39;normal&#39;) BETWEEN </span><span class="si">%s</span><span class="s2"> AND &#39;100&#39;&quot;</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;c1ccccc1O&#39;::mol;&quot;</span><span class="p">)</span> <span class="c1"># dirty hack but what can I do...</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=</span><span class="si">%s</span><span class="s1">;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,))</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv)&quot;</span><span class="p">},</span>
            <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
            <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fps_rdkit.molregno = &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">db_table</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">molregno_column</span> <span class="o">+</span>
                   <span class="s2">&quot; and torsionbv_fp(</span><span class="si">%s</span><span class="s2">) </span><span class="si">%%</span><span class="s2"> torsionbv and tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv) between </span><span class="si">%s</span><span class="s2"> and 1.0&quot;</span><span class="p">],</span>
            <span class="n">tables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fps_rdkit&#39;</span><span class="p">],</span>
            <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-similarity&#39;</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="n">structure</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)])</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=0.5;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsMixin.with_substructure">
    <p>def <span class="ident">with_substructure</span>(</p><p>self, structure)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsMixin.with_substructure', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsMixin.with_substructure" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_substructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(sss(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@&gt;</span><span class="si">%s</span><span class="s2">::qmol&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">get_smarts</span><span class="p">(</span><span class="n">structure</span><span class="p">),))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="chembl_core_db.db.customManagers.CompoundMolsQuerySet" class="name">class <span class="ident">CompoundMolsQuerySet</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CompoundMolsQuerySet</span><span class="p">(</span><span class="n">QuerySet</span><span class="p">,</span><span class="n">CompoundMolsMixin</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#chembl_core_db.db.customManagers.CompoundMolsQuerySet">CompoundMolsQuerySet</a></li>
          <li>django.db.models.query.QuerySet</li>
          <li><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.value_annotation" class="name">var <span class="ident">value_annotation</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.db" class="name">var <span class="ident">db</span></p>
            

            
  
    <div class="desc"><p>Return the database that will be used if this query is executed now</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.ordered" class="name">var <span class="ident">ordered</span></p>
            

            
  
    <div class="desc"><p>Returns True if the QuerySet is ordered -- i.e. has an order_by()
clause or a default ordering on the model.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, model=None, query=None, using=None, hints=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.__init__', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">hints</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">using</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hints</span> <span class="o">=</span> <span class="n">hints</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span> <span class="ow">or</span> <span class="n">sql</span><span class="o">.</span><span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sticky_filter</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prefetch_related_lookups</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prefetch_done</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_known_related_objects</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># {rel_field, {pk: rel_obj}}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_iterable_class</span> <span class="o">=</span> <span class="n">ModelIterable</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.aggregate">
    <p>def <span class="ident">aggregate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary containing the calculations (aggregation)
over the current queryset</p>
<p>If args is present the expression is passed as a kwarg using
the Aggregate object's default alias.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.aggregate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.aggregate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dictionary containing the calculations (aggregation)</span>
<span class="sd">    over the current queryset</span>
<span class="sd">    If args is present the expression is passed as a kwarg using</span>
<span class="sd">    the Aggregate object&#39;s default alias.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">distinct_fields</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;aggregate() + distinct(fields) not implemented.&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="c1"># The default_alias property may raise a TypeError, so we use</span>
        <span class="c1"># a try/except construct rather than hasattr in order to remain</span>
        <span class="c1"># consistent between PY2 and PY3 (hasattr would swallow</span>
        <span class="c1"># the TypeError on PY2).</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Complex aggregates require an alias&quot;</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span>
    <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="n">aggregate_expr</span><span class="p">)</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">query</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span><span class="n">aggregate_expr</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">is_summary</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">query</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span><span class="o">.</span><span class="n">contains_aggregate</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is not an aggregate expression&quot;</span> <span class="o">%</span> <span class="n">alias</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">query</span><span class="o">.</span><span class="n">get_aggregation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.all">
    <p>def <span class="ident">all</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet that is a copy of the current one. This allows a
QuerySet to proxy for a model manager in some cases.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.all', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.all" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet that is a copy of the current one. This allows a</span>
<span class="sd">    QuerySet to proxy for a model manager in some cases.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.annotate">
    <p>def <span class="ident">annotate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a query set in which the returned objects have been annotated
with extra data or aggregations.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.annotate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.annotate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">annotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a query set in which the returned objects have been annotated</span>
<span class="sd">    with extra data or aggregations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">annotations</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>  <span class="c1"># To preserve ordering of args</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="c1"># The default_alias property may raise a TypeError, so we use</span>
        <span class="c1"># a try/except construct rather than hasattr in order to remain</span>
        <span class="c1"># consistent between PY2 and PY3 (hasattr would swallow</span>
        <span class="c1"># the TypeError on PY2).</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The named annotation &#39;</span><span class="si">%s</span><span class="s2">&#39; conflicts with the &quot;</span>
                                 <span class="s2">&quot;default name for another annotation.&quot;</span>
                                 <span class="o">%</span> <span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Complex annotations require an alias&quot;</span><span class="p">)</span>
        <span class="n">annotations</span><span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span>
    <span class="n">annotations</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span>
    <span class="k">if</span> <span class="n">names</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_fields</span><span class="p">()}</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">annotation</span> <span class="ow">in</span> <span class="n">annotations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The annotation &#39;</span><span class="si">%s</span><span class="s2">&#39; conflicts with a field on &quot;</span>
                             <span class="s2">&quot;the model.&quot;</span> <span class="o">%</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span><span class="n">annotation</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">is_summary</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">annotation</span> <span class="ow">in</span> <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">annotations</span> <span class="ow">and</span> <span class="n">annotation</span><span class="o">.</span><span class="n">contains_aggregate</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">clone</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">group_by</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">set_group_by</span><span class="p">()</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.as_manager">
    <p>def <span class="ident">as_manager</span>(</p><p>cls)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.as_manager', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.as_manager" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_manager</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="c1"># Address the circular dependency between `Queryset` and `Manager`.</span>
    <span class="kn">from</span> <span class="nn">django.db.models.manager</span> <span class="kn">import</span> <span class="n">Manager</span>
    <span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="o">.</span><span class="n">from_queryset</span><span class="p">(</span><span class="n">cls</span><span class="p">)()</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">_built_with_as_manager</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">manager</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.bulk_create">
    <p>def <span class="ident">bulk_create</span>(</p><p>self, objs, batch_size=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Inserts each of the instances into the database. This does <em>not</em> call
save() on each of the instances, does not send any pre/post save
signals, and does not set the primary key attribute if it is an
autoincrement field. Multi-table models are not supported.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.bulk_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.bulk_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">bulk_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objs</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inserts each of the instances into the database. This does *not* call</span>
<span class="sd">    save() on each of the instances, does not send any pre/post save</span>
<span class="sd">    signals, and does not set the primary key attribute if it is an</span>
<span class="sd">    autoincrement field. Multi-table models are not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># So this case is fun. When you bulk insert you don&#39;t get the primary</span>
    <span class="c1"># keys back (if it&#39;s an autoincrement), so you can&#39;t insert into the</span>
    <span class="c1"># child tables which references this. There are two workarounds, 1)</span>
    <span class="c1"># this could be implemented if you didn&#39;t have an autoincrement pk,</span>
    <span class="c1"># and 2) you could do it by doing O(n) normal inserts into the parent</span>
    <span class="c1"># tables to get the primary keys back, and then doing a single bulk</span>
    <span class="c1"># insert into the childmost table. Some databases might allow doing</span>
    <span class="c1"># this by using RETURNING clause for the insert query. We&#39;re punting</span>
    <span class="c1"># on these for now because they are relatively rare cases.</span>
    <span class="k">assert</span> <span class="n">batch_size</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="c1"># Check that the parents share the same concrete model with the our</span>
    <span class="c1"># model to detect the inheritance pattern ConcreteGrandParent -&gt;</span>
    <span class="c1"># MultiTableParent -&gt; ProxyChild. Simply checking self.model._meta.proxy</span>
    <span class="c1"># would not identify that case as involving multiple tables.</span>
    <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_parent_list</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">parent</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">concrete_model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">concrete_model</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t bulk create a multi-table inherited model&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">objs</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">]</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">concrete_fields</span>
    <span class="n">objs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">objs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_pk_values</span><span class="p">(</span><span class="n">objs</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">savepoint</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">can_combine_inserts_with_and_without_auto_increment_pk</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">has_auto_field</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_batched_insert</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">objs_with_pk</span><span class="p">,</span> <span class="n">objs_without_pk</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="n">pk</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">,</span> <span class="n">objs</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">objs_with_pk</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_batched_insert</span><span class="p">(</span><span class="n">objs_with_pk</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">objs_without_pk</span><span class="p">:</span>
                <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fields</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">AutoField</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_batched_insert</span><span class="p">(</span><span class="n">objs_without_pk</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">objs</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.complex_filter">
    <p>def <span class="ident">complex_filter</span>(</p><p>self, filter_obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with filter_obj added to the filters.</p>
<p>filter_obj can be a Q object (or anything with an add_to_query()
method) or a dictionary of keyword lookup arguments.</p>
<p>This exists to support framework features such as 'limit_choices_to',
and usually it will be more natural to use other methods.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.complex_filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.complex_filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">complex_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with filter_obj added to the filters.</span>
<span class="sd">    filter_obj can be a Q object (or anything with an add_to_query()</span>
<span class="sd">    method) or a dictionary of keyword lookup arguments.</span>
<span class="sd">    This exists to support framework features such as &#39;limit_choices_to&#39;,</span>
<span class="sd">    and usually it will be more natural to use other methods.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filter_obj</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">filter_obj</span><span class="p">,</span> <span class="s1">&#39;add_to_query&#39;</span><span class="p">):</span>
        <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_q</span><span class="p">(</span><span class="n">filter_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">clone</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_or_exclude</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">filter_obj</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.count">
    <p>def <span class="ident">count</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs a SELECT COUNT() and returns the number of records as an
integer.</p>
<p>If the QuerySet is already fully cached this simply returns the length
of the cached results set to avoid multiple SELECT COUNT(*) calls.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.count', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.count" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a SELECT COUNT() and returns the number of records as an</span>
<span class="sd">    integer.</span>
<span class="sd">    If the QuerySet is already fully cached this simply returns the length</span>
<span class="sd">    of the cached results set to avoid multiple SELECT COUNT(*) calls.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">get_count</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.create">
    <p>def <span class="ident">create</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates a new object with the given kwargs, saving it to the database
and returning the created object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new object with the given kwargs, saving it to the database</span>
<span class="sd">    and returning the created object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">force_insert</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.dates">
    <p>def <span class="ident">dates</span>(</p><p>self, field_name, kind, order=&#39;ASC&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of date objects representing all available dates for
the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.dates', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.dates" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;ASC&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of date objects representing all available dates for</span>
<span class="sd">    the given field_name, scoped to &#39;kind&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;kind&#39; must be one of &#39;year&#39;, &#39;month&#39; or &#39;day&#39;.&quot;</span>
    <span class="k">assert</span> <span class="n">order</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;order&#39; must be either &#39;ASC&#39; or &#39;DESC&#39;.&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
        <span class="n">datefield</span><span class="o">=</span><span class="n">Date</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">),</span>
        <span class="n">plain_field</span><span class="o">=</span><span class="n">F</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">values_list</span><span class="p">(</span>
        <span class="s1">&#39;datefield&#39;</span><span class="p">,</span> <span class="n">flat</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">plain_field__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">((</span><span class="s1">&#39;-&#39;</span> <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;DESC&#39;</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;datefield&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.datetimes">
    <p>def <span class="ident">datetimes</span>(</p><p>self, field_name, kind, order=&#39;ASC&#39;, tzinfo=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of datetime objects representing all available
datetimes for the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.datetimes', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.datetimes" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">datetimes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of datetime objects representing all available</span>
<span class="sd">    datetimes for the given field_name, scoped to &#39;kind&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;hour&quot;</span><span class="p">,</span> <span class="s2">&quot;minute&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;kind&#39; must be one of &#39;year&#39;, &#39;month&#39;, &#39;day&#39;, &#39;hour&#39;, &#39;minute&#39; or &#39;second&#39;.&quot;</span>
    <span class="k">assert</span> <span class="n">order</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;order&#39; must be either &#39;ASC&#39; or &#39;DESC&#39;.&quot;</span>
    <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">USE_TZ</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tzinfo</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">get_current_timezone</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tzinfo</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
        <span class="n">datetimefield</span><span class="o">=</span><span class="n">DateTime</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">tzinfo</span><span class="p">),</span>
        <span class="n">plain_field</span><span class="o">=</span><span class="n">F</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">values_list</span><span class="p">(</span>
        <span class="s1">&#39;datetimefield&#39;</span><span class="p">,</span> <span class="n">flat</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">plain_field__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">((</span><span class="s1">&#39;-&#39;</span> <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;DESC&#39;</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;datetimefield&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.defer">
    <p>def <span class="ident">defer</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
    <div class="desc"><p>Defers the loading of data for certain fields until they are accessed.
The set of fields to defer is added to any existing set of deferred
fields. The only exception to this is if None is passed in as the only
parameter, in which case all deferrals are removed (None acts as a
reset option).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.defer', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.defer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">defer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defers the loading of data for certain fields until they are accessed.</span>
<span class="sd">    The set of fields to defer is added to any existing set of deferred</span>
<span class="sd">    fields. The only exception to this is if None is passed in as the only</span>
<span class="sd">    parameter, in which case all deferrals are removed (None acts as a</span>
<span class="sd">    reset option).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call defer() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clear_deferred_loading</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_deferred_loading</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.delete">
    <p>def <span class="ident">delete</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Deletes the records in the current QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.delete', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.delete" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deletes the records in the current QuerySet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot use &#39;limit&#39; or &#39;offset&#39; with delete.&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call delete() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="n">del_query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="c1"># The delete is actually 2 queries - one to find related objects,</span>
    <span class="c1"># and one to delete. Make sure that the discovery of related</span>
    <span class="c1"># objects is performed on the same database as the deletion.</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Disable non-supported fields.</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_for_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_related</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clear_ordering</span><span class="p">(</span><span class="n">force_empty</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">collector</span> <span class="o">=</span> <span class="n">Collector</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="n">del_query</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="n">collector</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">del_query</span><span class="p">)</span>
    <span class="n">deleted</span><span class="p">,</span> <span class="n">_rows_count</span> <span class="o">=</span> <span class="n">collector</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
    <span class="c1"># Clear the result cache, in case this QuerySet gets reused.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="n">deleted</span><span class="p">,</span> <span class="n">_rows_count</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.distinct">
    <p>def <span class="ident">distinct</span>(</p><p>self, *field_names)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select only distinct results.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.distinct', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.distinct" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">distinct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will select only distinct results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot create distinct fields once a slice has been taken.&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_distinct_fields</span><span class="p">(</span><span class="o">*</span><span class="n">field_names</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.earliest">
    <p>def <span class="ident">earliest</span>(</p><p>self, field_name=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.earliest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.earliest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">earliest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_earliest_or_latest</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.exclude">
    <p>def <span class="ident">exclude</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with NOT (args) ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.exclude', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.exclude" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with NOT (args) ANDed to the existing</span>
<span class="sd">    set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_or_exclude</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.exists">
    <p>def <span class="ident">exists</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.exists', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.exists" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">has_results</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.extra">
    <p>def <span class="ident">extra</span>(</p><p>self, select=None, where=None, params=None, tables=None, order_by=None, select_params=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Adds extra SQL fragments to the query.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.extra', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.extra" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">tables</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">order_by</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">select_params</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds extra SQL fragments to the query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot change a query once a slice has been taken&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span><span class="n">select</span><span class="p">,</span> <span class="n">select_params</span><span class="p">,</span> <span class="n">where</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">tables</span><span class="p">,</span> <span class="n">order_by</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.filter">
    <p>def <span class="ident">filter</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the args ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with the args ANDed to the existing</span>
<span class="sd">    set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_or_exclude</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the first object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.first', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the first object of a query, returns None if no match is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">((</span><span class="bp">self</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ordered</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;pk&#39;</span><span class="p">))[:</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">objects</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.flexmatch">
    <p>def <span class="ident">flexmatch</span>(</p><p>self, structure)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.flexmatch">flexmatch</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.flexmatch', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.flexmatch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">flexmatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(flexmatch(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.get">
    <p>def <span class="ident">get</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs the query and returns a single object matching the given
keyword arguments.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.get', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.get" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the query and returns a single object matching the given</span>
<span class="sd">    keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">distinct_fields</span><span class="p">:</span>
        <span class="n">clone</span> <span class="o">=</span> <span class="n">clone</span><span class="o">.</span><span class="n">order_by</span><span class="p">()</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clone</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">clone</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">num</span><span class="p">:</span>
        <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> matching query does not exist.&quot;</span> <span class="o">%</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span>
        <span class="p">)</span>
    <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">MultipleObjectsReturned</span><span class="p">(</span>
        <span class="s2">&quot;get() returned more than one </span><span class="si">%s</span><span class="s2"> -- it returned </span><span class="si">%s</span><span class="s2">!&quot;</span> <span class="o">%</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_column">
    <p>def <span class="ident">get_column</span>(</p><p>self, name)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.get_column">get_column</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_column', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_column" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">db_column</span> <span class="ow">or</span> <span class="n">name</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_or_create">
    <p>def <span class="ident">get_or_create</span>(</p><p>self, defaults=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, creating one if necessary.
Returns a tuple of (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.get_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_or_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Looks up an object with the given kwargs, creating one if necessary.</span>
<span class="sd">    Returns a tuple of (object, created), where created is a boolean</span>
<span class="sd">    specifying whether an object was created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lookup</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_model_params</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c1"># The get() needs to be targeted at the write database in order</span>
    <span class="c1"># to avoid potential transaction consistency problems.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">lookup</span><span class="p">),</span> <span class="bp">False</span>
    <span class="k">except</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_object_from_params</span><span class="p">(</span><span class="n">lookup</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.in_bulk">
    <p>def <span class="ident">in_bulk</span>(</p><p>self, id_list)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary mapping each of the given IDs to the object with
that ID.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.in_bulk', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.in_bulk" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">in_bulk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dictionary mapping each of the given IDs to the object with</span>
<span class="sd">    that ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot use &#39;limit&#39; or &#39;offset&#39; with in_bulk&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">id_list</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">qs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">pk__in</span><span class="o">=</span><span class="n">id_list</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">obj</span><span class="o">.</span><span class="n">_get_pk_val</span><span class="p">():</span> <span class="n">obj</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">qs</span><span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.is_compatible_query_object_type">
    <p>def <span class="ident">is_compatible_query_object_type</span>(</p><p>self, opts, field)</p>
    </div>
    

    
  
    <div class="desc"><p>Check that using this queryset as the rhs value for a lookup is
allowed. The opts are the options of the relation's target we are
querying against. For example in .filter(author__in=Author.objects.all())
the opts would be Author's (from the author field) and self.model would
be Author.objects.all() queryset's .model (Author also). The field is
the related field on the lhs side.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.is_compatible_query_object_type', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.is_compatible_query_object_type" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">is_compatible_query_object_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opts</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check that using this queryset as the rhs value for a lookup is</span>
<span class="sd">    allowed. The opts are the options of the relation&#39;s target we are</span>
<span class="sd">    querying against. For example in .filter(author__in=Author.objects.all())</span>
<span class="sd">    the opts would be Author&#39;s (from the author field) and self.model would</span>
<span class="sd">    be Author.objects.all() queryset&#39;s .model (Author also). The field is</span>
<span class="sd">    the related field on the lhs side.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We trust that users of values() know what they are doing.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">check_rel_lookup_compatibility</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">opts</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.iterator">
    <p>def <span class="ident">iterator</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>An iterator over the results from applying this QuerySet to the
database.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.iterator', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.iterator" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An iterator over the results from applying this QuerySet to the</span>
<span class="sd">    database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iterable_class</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the last object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.last', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the last object of a query, returns None if no match is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ordered</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-pk&#39;</span><span class="p">))[:</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">objects</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.latest">
    <p>def <span class="ident">latest</span>(</p><p>self, field_name=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.latest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.latest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">latest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_earliest_or_latest</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.none">
    <p>def <span class="ident">none</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns an empty QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.none', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.none" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">none</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns an empty QuerySet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">set_empty</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.only">
    <p>def <span class="ident">only</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
    <div class="desc"><p>Essentially, the opposite of defer. Only the fields passed into this
method and that are not already specified as deferred are loaded
immediately when the queryset is evaluated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.only', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.only" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">only</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Essentially, the opposite of defer. Only the fields passed into this</span>
<span class="sd">    method and that are not already specified as deferred are loaded</span>
<span class="sd">    immediately when the queryset is evaluated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call only() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="c1"># Can only pass None to defer(), not only(), as the rest option.</span>
        <span class="c1"># That won&#39;t stop people trying to do this, so let&#39;s be explicit.</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot pass None as an argument to only().&quot;</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_immediate_loading</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.order_by">
    <p>def <span class="ident">order_by</span>(</p><p>self, *field_names)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the ordering changed.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.order_by', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.order_by" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">order_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with the ordering changed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot reorder a query once a slice has been taken.&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clear_ordering</span><span class="p">(</span><span class="n">force_empty</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_ordering</span><span class="p">(</span><span class="o">*</span><span class="n">field_names</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.prefetch_related">
    <p>def <span class="ident">prefetch_related</span>(</p><p>self, *lookups)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will prefetch the specified
Many-To-One and Many-To-Many related objects when the QuerySet is
evaluated.</p>
<p>When prefetch_related() is called more than once, the list of lookups to
prefetch is appended to. If prefetch_related(None) is called, the list
is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.prefetch_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.prefetch_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">prefetch_related</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">lookups</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will prefetch the specified</span>
<span class="sd">    Many-To-One and Many-To-Many related objects when the QuerySet is</span>
<span class="sd">    evaluated.</span>
<span class="sd">    When prefetch_related() is called more than once, the list of lookups to</span>
<span class="sd">    prefetch is appended to. If prefetch_related(None) is called, the list</span>
<span class="sd">    is cleared.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">lookups</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">_prefetch_related_lookups</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">_prefetch_related_lookups</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">lookups</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.raw">
    <p>def <span class="ident">raw</span>(</p><p>self, raw_query, params=None, translations=None, using=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.raw', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.raw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_query</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">translations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">using</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">using</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span>
    <span class="k">return</span> <span class="n">RawQuerySet</span><span class="p">(</span><span class="n">raw_query</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">translations</span><span class="o">=</span><span class="n">translations</span><span class="p">,</span>
            <span class="n">using</span><span class="o">=</span><span class="n">using</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.reverse">
    <p>def <span class="ident">reverse</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Reverses the ordering of the QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.reverse', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.reverse" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reverses the ordering of the QuerySet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">standard_ordering</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">standard_ordering</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_for_update">
    <p>def <span class="ident">select_for_update</span>(</p><p>self, nowait=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select objects with a
FOR UPDATE lock.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_for_update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_for_update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select_for_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nowait</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will select objects with a</span>
<span class="sd">    FOR UPDATE lock.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_for_update</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_for_update_nowait</span> <span class="o">=</span> <span class="n">nowait</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_related">
    <p>def <span class="ident">select_related</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select related objects.</p>
<p>If fields are specified, they must be ForeignKey fields and only those
related objects are included in the selection.</p>
<p>If select_related(None) is called, the list is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.select_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select_related</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will select related objects.</span>
<span class="sd">    If fields are specified, they must be ForeignKey fields and only those</span>
<span class="sd">    related objects are included in the selection.</span>
<span class="sd">    If select_related(None) is called, the list is cleared.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call select_related() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_related</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">elif</span> <span class="n">fields</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_select_related</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_related</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.similar_to">
    <p>def <span class="ident">similar_to</span>(</p><p>self, structure, similarity_index)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.similar_to">similar_to</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.similar_to', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.similar_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">similar_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">molregno_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;molecule&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">similarity_index</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sim</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="ow">or</span> <span class="n">sim</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;similarity_index must be integer from range (50,100)&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;TO_NUMBER (molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">, &#39;normal&#39;))&quot;</span><span class="p">},</span>
            <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
            <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;molsim (&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;, </span><span class="si">%s</span><span class="s2">, &#39;normal&#39;) BETWEEN </span><span class="si">%s</span><span class="s2"> AND &#39;100&#39;&quot;</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,</span> <span class="n">similarity_index</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;c1ccccc1O&#39;::mol;&quot;</span><span class="p">)</span> <span class="c1"># dirty hack but what can I do...</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=</span><span class="si">%s</span><span class="s1">;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,))</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;similarity&#39;</span><span class="p">:</span> <span class="s2">&quot;tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv)&quot;</span><span class="p">},</span>
            <span class="n">select_params</span><span class="o">=</span><span class="p">(</span><span class="n">structure</span><span class="p">,),</span>
            <span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fps_rdkit.molregno = &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">db_table</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">molregno_column</span> <span class="o">+</span>
                   <span class="s2">&quot; and torsionbv_fp(</span><span class="si">%s</span><span class="s2">) </span><span class="si">%%</span><span class="s2"> torsionbv and tanimoto_sml(torsionbv_fp(</span><span class="si">%s</span><span class="s2">), torsionbv) between </span><span class="si">%s</span><span class="s2"> and 1.0&quot;</span><span class="p">],</span>
            <span class="n">tables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fps_rdkit&#39;</span><span class="p">],</span>
            <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-similarity&#39;</span><span class="p">],</span>
            <span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="n">structure</span><span class="p">,</span> <span class="n">structure</span><span class="p">,</span> <span class="p">(</span><span class="n">sim</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)])</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;set rdkit.tanimoto_threshold=0.5;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.update">
    <p>def <span class="ident">update</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Updates all elements in the current QuerySet, setting all the given
fields to the appropriate values.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates all elements in the current QuerySet, setting all the given</span>
<span class="sd">    fields to the appropriate values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot update a query once a slice has been taken.&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">sql</span><span class="o">.</span><span class="n">UpdateQuery</span><span class="p">)</span>
    <span class="n">query</span><span class="o">.</span><span class="n">add_update_values</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">savepoint</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">get_compiler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span><span class="o">.</span><span class="n">execute_sql</span><span class="p">(</span><span class="n">CURSOR</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="n">rows</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.update_or_create">
    <p>def <span class="ident">update_or_create</span>(</p><p>self, defaults=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, updating one with defaults
if it exists, otherwise creates a new one.
Returns a tuple (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.update_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.update_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_or_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Looks up an object with the given kwargs, updating one with defaults</span>
<span class="sd">    if it exists, otherwise creates a new one.</span>
<span class="sd">    Returns a tuple (object, created), where created is a boolean</span>
<span class="sd">    specifying whether an object was created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">defaults</span> <span class="o">=</span> <span class="n">defaults</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">lookup</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_model_params</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">lookup</span><span class="p">)</span>
    <span class="k">except</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
        <span class="n">obj</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_object_from_params</span><span class="p">(</span><span class="n">lookup</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">created</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span><span class="p">,</span> <span class="n">created</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="n">defaults</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">savepoint</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span><span class="p">,</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.using">
    <p>def <span class="ident">using</span>(</p><p>self, alias)</p>
    </div>
    

    
  
    <div class="desc"><p>Selects which database this QuerySet should execute its query against.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.using', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.using" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">using</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Selects which database this QuerySet should execute its query against.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">alias</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.values">
    <p>def <span class="ident">values</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.values', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.values" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values</span><span class="p">(</span><span class="o">*</span><span class="n">fields</span><span class="p">)</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">_iterable_class</span> <span class="o">=</span> <span class="n">ValuesIterable</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.values_list">
    <p>def <span class="ident">values_list</span>(</p><p>self, *fields, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.values_list', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.values_list" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">values_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">flat</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Unexpected keyword arguments to values_list: </span><span class="si">%s</span><span class="s1">&#39;</span>
                <span class="o">%</span> <span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="p">),))</span>
    <span class="k">if</span> <span class="n">flat</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;flat&#39; is not valid when values_list is called with more than one field.&quot;</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values</span><span class="p">(</span><span class="o">*</span><span class="n">fields</span><span class="p">)</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">_iterable_class</span> <span class="o">=</span> <span class="n">FlatValuesListIterable</span> <span class="k">if</span> <span class="n">flat</span> <span class="k">else</span> <span class="n">ValuesListIterable</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.CompoundMolsQuerySet.with_substructure">
    <p>def <span class="ident">with_substructure</span>(</p><p>self, structure)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin">CompoundMolsMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.CompoundMolsMixin.with_substructure">with_substructure</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.with_substructure', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.CompoundMolsQuerySet.with_substructure" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_substructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">):</span>
    <span class="n">ctab_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;ctab&#39;</span><span class="p">)</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;oracle&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(sss(&quot;</span> <span class="o">+</span> <span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="si">%s</span><span class="s2">,&#39;ignore=all&#39;)=1)&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;smiles:&#39;</span> <span class="o">+</span> <span class="n">structure</span><span class="p">,))</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">vendor</span> <span class="o">==</span> <span class="s1">&#39;postgresql&#39;</span><span class="p">:</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="p">[</span><span class="n">ctab_column</span> <span class="o">+</span> <span class="s2">&quot;@&gt;</span><span class="si">%s</span><span class="s2">::qmol&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">get_smarts</span><span class="p">(</span><span class="n">structure</span><span class="p">),))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="chembl_core_db.db.customManagers.MoleculeDictionaryManager" class="name">class <span class="ident">MoleculeDictionaryManager</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MoleculeDictionaryManager</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Manager</span><span class="p">,</span> <span class="n">MoleculeDictionaryMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_query_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryManager">MoleculeDictionaryManager</a></li>
          <li>django.db.models.manager.Manager</li>
          <li>django.db.models.manager.BaseManagerFromQuerySet</li>
          <li>django.db.models.manager.BaseManager</li>
          <li><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.creation_counter" class="name">var <span class="ident">creation_counter</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.use_in_migrations" class="name">var <span class="ident">use_in_migrations</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.db" class="name">var <span class="ident">db</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.__init__', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_creation_counter</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_inherited</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hints</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.aggregate">
    <p>def <span class="ident">aggregate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary containing the calculations (aggregation)
over the current queryset</p>
<p>If args is present the expression is passed as a kwarg using
the Aggregate object's default alias.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.aggregate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.aggregate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.all">
    <p>def <span class="ident">all</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.all', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.all" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># We can&#39;t proxy this method through the `QuerySet` like we do for the</span>
    <span class="c1"># rest of the `QuerySet` methods. This is because `QuerySet.all()`</span>
    <span class="c1"># works by creating a &quot;copy&quot; of the current queryset and in making said</span>
    <span class="c1"># copy, all the cached `prefetch_related` lookups are lost. See the</span>
    <span class="c1"># implementation of `RelatedManager.get_queryset()` for a better</span>
    <span class="c1"># understanding of how this comes into play.</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.annotate">
    <p>def <span class="ident">annotate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a query set in which the returned objects have been annotated
with extra data or aggregations.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.annotate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.annotate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.bulk_create">
    <p>def <span class="ident">bulk_create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Inserts each of the instances into the database. This does <em>not</em> call
save() on each of the instances, does not send any pre/post save
signals, and does not set the primary key attribute if it is an
autoincrement field. Multi-table models are not supported.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.bulk_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.bulk_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_natural_key_public_except_project">
    <p>def <span class="ident">by_natural_key_public_except_project</span>(</p><p>self, structure_type, structure_key, project_id)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_natural_key_public_except_project">by_natural_key_public_except_project</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Exclude the given project id from the query set</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_natural_key_public_except_project', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_natural_key_public_except_project" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">by_natural_key_public_except_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Exclude the given project id from the query set&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                        <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                            <span class="n">Q</span><span class="p">(</span><span class="n">public</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">)</span>
                                        <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_project_and_natural_key">
    <p>def <span class="ident">by_project_and_natural_key</span>(</p><p>self, structure_type, structure_key, project_id)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_project_and_natural_key">by_project_and_natural_key</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Get the given structure for that project</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_project_and_natural_key', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.by_project_and_natural_key" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">by_project_and_natural_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the given structure for that project&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                                       <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                       <span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.check">
    <p>def <span class="ident">check</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.check', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.check" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.complex_filter">
    <p>def <span class="ident">complex_filter</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with filter_obj added to the filters.</p>
<p>filter_obj can be a Q object (or anything with an add_to_query()
method) or a dictionary of keyword lookup arguments.</p>
<p>This exists to support framework features such as 'limit_choices_to',
and usually it will be more natural to use other methods.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.complex_filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.complex_filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.contribute_to_class">
    <p>def <span class="ident">contribute_to_class</span>(</p><p>self, model, name)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.contribute_to_class', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.contribute_to_class" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">contribute_to_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="c1"># TODO: Use weakref because of possible memory leak / circular reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="c1"># Only contribute the manager if the model is concrete</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">abstract</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">AbstractManagerDescriptor</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">swapped</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">SwappedManagerDescriptor</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># if not model._meta.abstract and not model._meta.swapped:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ManagerDescriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;_default_manager&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">or</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">creation_counter</span> <span class="o">&lt;</span> <span class="n">model</span><span class="o">.</span><span class="n">_default_manager</span><span class="o">.</span><span class="n">creation_counter</span><span class="p">):</span>
        <span class="n">model</span><span class="o">.</span><span class="n">_default_manager</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="n">abstract</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">abstract</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_inherited</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">proxy</span><span class="p">):</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">managers</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">creation_counter</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">abstract</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.count">
    <p>def <span class="ident">count</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs a SELECT COUNT() and returns the number of records as an
integer.</p>
<p>If the QuerySet is already fully cached this simply returns the length
of the cached results set to avoid multiple SELECT COUNT(*) calls.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.count', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.count" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.create">
    <p>def <span class="ident">create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates a new object with the given kwargs, saving it to the database
and returning the created object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.dates">
    <p>def <span class="ident">dates</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of date objects representing all available dates for
the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.dates', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.dates" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.datetimes">
    <p>def <span class="ident">datetimes</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of datetime objects representing all available
datetimes for the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.datetimes', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.datetimes" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.db_manager">
    <p>def <span class="ident">db_manager</span>(</p><p>self, using=None, hints=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.db_manager', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.db_manager" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">db_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">hints</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">using</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_db</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_hints</span> <span class="o">=</span> <span class="n">hints</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hints</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.deconstruct">
    <p>def <span class="ident">deconstruct</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a 5-tuple of the form (as_manager (True), manager_class,
queryset_class, args, kwargs).</p>
<p>Raises a ValueError if the manager is dynamically generated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.deconstruct', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.deconstruct" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">deconstruct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a 5-tuple of the form (as_manager (True), manager_class,</span>
<span class="sd">    queryset_class, args, kwargs).</span>
<span class="sd">    Raises a ValueError if the manager is dynamically generated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qs_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queryset_class</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_built_with_as_manager&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
        <span class="c1"># using MyQuerySet.as_manager()</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">True</span><span class="p">,</span>  <span class="c1"># as_manager</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># manager_class</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">qs_class</span><span class="o">.</span><span class="n">__module__</span><span class="p">,</span> <span class="n">qs_class</span><span class="o">.</span><span class="n">__name__</span><span class="p">),</span>  <span class="c1"># qs_class</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># args</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># kwargs</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__module__</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
        <span class="c1"># Make sure it&#39;s actually there and not an inner class</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Could not find manager </span><span class="si">%s</span><span class="s2"> in </span><span class="si">%s</span><span class="s2">.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Please note that you need to inherit from managers you &quot;</span>
                <span class="s2">&quot;dynamically generated with &#39;from_queryset()&#39;.&quot;</span>
                <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">module_name</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">False</span><span class="p">,</span>  <span class="c1"># as_manager</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>  <span class="c1"># manager_class</span>
            <span class="bp">None</span><span class="p">,</span>  <span class="c1"># qs_class</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_constructor_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>  <span class="c1"># args</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_constructor_args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="c1"># kwargs</span>
        <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.defer">
    <p>def <span class="ident">defer</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Defers the loading of data for certain fields until they are accessed.
The set of fields to defer is added to any existing set of deferred
fields. The only exception to this is if None is passed in as the only
parameter, in which case all deferrals are removed (None acts as a
reset option).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.defer', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.defer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.distinct">
    <p>def <span class="ident">distinct</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select only distinct results.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.distinct', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.distinct" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.earliest">
    <p>def <span class="ident">earliest</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.earliest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.earliest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.exclude">
    <p>def <span class="ident">exclude</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with NOT (args) ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.exclude', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.exclude" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.exists">
    <p>def <span class="ident">exists</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.exists', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.exists" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.extra">
    <p>def <span class="ident">extra</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Adds extra SQL fragments to the query.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.extra', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.extra" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.filter">
    <p>def <span class="ident">filter</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the args ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.first">
    <p>def <span class="ident">first</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the first object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.first', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.from_queryset">
    <p>def <span class="ident">from_queryset</span>(</p><p>cls, queryset_class, class_name=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.from_queryset', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.from_queryset" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_queryset</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">queryset_class</span><span class="p">,</span> <span class="n">class_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">class_name</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">From</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">queryset_class</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
    <span class="n">class_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;_queryset_class&#39;</span><span class="p">:</span> <span class="n">queryset_class</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">class_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">_get_queryset_methods</span><span class="p">(</span><span class="n">queryset_class</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="p">(</span><span class="n">cls</span><span class="p">,),</span> <span class="n">class_dict</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.get">
    <p>def <span class="ident">get</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs the query and returns a single object matching the given
keyword arguments.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_or_create">
    <p>def <span class="ident">get_or_create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, creating one if necessary.
Returns a tuple of (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_query_set">
    <p>def <span class="ident">get_query_set</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_query_set', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_query_set" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_query_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_queryset">
    <p>def <span class="ident">get_queryset</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_queryset', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.get_queryset" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.in_bulk">
    <p>def <span class="ident">in_bulk</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary mapping each of the given IDs to the object with
that ID.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.in_bulk', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.in_bulk" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.iterator">
    <p>def <span class="ident">iterator</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>An iterator over the results from applying this QuerySet to the
database.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.iterator', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.iterator" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.last">
    <p>def <span class="ident">last</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the last object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.last', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.latest">
    <p>def <span class="ident">latest</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.latest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.latest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.none">
    <p>def <span class="ident">none</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns an empty QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.none', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.none" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.only">
    <p>def <span class="ident">only</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Essentially, the opposite of defer. Only the fields passed into this
method and that are not already specified as deferred are loaded
immediately when the queryset is evaluated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.only', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.only" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.order_by">
    <p>def <span class="ident">order_by</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the ordering changed.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.order_by', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.order_by" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.prefetch_related">
    <p>def <span class="ident">prefetch_related</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will prefetch the specified
Many-To-One and Many-To-Many related objects when the QuerySet is
evaluated.</p>
<p>When prefetch_related() is called more than once, the list of lookups to
prefetch is appended to. If prefetch_related(None) is called, the list
is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.prefetch_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.prefetch_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.raw">
    <p>def <span class="ident">raw</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.raw', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.raw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.reverse">
    <p>def <span class="ident">reverse</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Reverses the ordering of the QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.reverse', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.reverse" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_for_update">
    <p>def <span class="ident">select_for_update</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select objects with a
FOR UPDATE lock.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_for_update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_for_update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_related">
    <p>def <span class="ident">select_related</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select related objects.</p>
<p>If fields are specified, they must be ForeignKey fields and only those
related objects are included in the selection.</p>
<p>If select_related(None) is called, the list is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.select_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.update">
    <p>def <span class="ident">update</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Updates all elements in the current QuerySet, setting all the given
fields to the appropriate values.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.update_or_create">
    <p>def <span class="ident">update_or_create</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, updating one with defaults
if it exists, otherwise creates a new one.
Returns a tuple (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.update_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.update_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.using">
    <p>def <span class="ident">using</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Selects which database this QuerySet should execute its query against.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.using', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.using" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.values">
    <p>def <span class="ident">values</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.values', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.values" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryManager.values_list">
    <p>def <span class="ident">values_list</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.values_list', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryManager.values_list" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="chembl_core_db.db.customManagers.MoleculeDictionaryMixin" class="name">class <span class="ident">MoleculeDictionaryMixin</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryMixin', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryMixin" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MoleculeDictionaryMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">by_natural_key_public_except_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Exclude the given project id from the query set&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                            <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                <span class="n">Q</span><span class="p">(</span><span class="n">public</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">)</span>
                                            <span class="p">)</span>


    <span class="k">def</span> <span class="nf">by_project_and_natural_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Get the given structure for that project&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                                           <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                           <span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">))</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_natural_key_public_except_project">
    <p>def <span class="ident">by_natural_key_public_except_project</span>(</p><p>self, structure_type, structure_key, project_id)</p>
    </div>
    

    
  
    <div class="desc"><p>Exclude the given project id from the query set</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_natural_key_public_except_project', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_natural_key_public_except_project" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">by_natural_key_public_except_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Exclude the given project id from the query set&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                        <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                            <span class="n">Q</span><span class="p">(</span><span class="n">public</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">)</span>
                                        <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_project_and_natural_key">
    <p>def <span class="ident">by_project_and_natural_key</span>(</p><p>self, structure_type, structure_key, project_id)</p>
    </div>
    

    
  
    <div class="desc"><p>Get the given structure for that project</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_project_and_natural_key', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_project_and_natural_key" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">by_project_and_natural_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the given structure for that project&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                                       <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                       <span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet" class="name">class <span class="ident">MoleculeDictionaryQuerySet</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MoleculeDictionaryQuerySet</span><span class="p">(</span><span class="n">QuerySet</span><span class="p">,</span><span class="n">MoleculeDictionaryMixin</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet">MoleculeDictionaryQuerySet</a></li>
          <li>django.db.models.query.QuerySet</li>
          <li><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.value_annotation" class="name">var <span class="ident">value_annotation</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.db" class="name">var <span class="ident">db</span></p>
            

            
  
    <div class="desc"><p>Return the database that will be used if this query is executed now</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.ordered" class="name">var <span class="ident">ordered</span></p>
            

            
  
    <div class="desc"><p>Returns True if the QuerySet is ordered -- i.e. has an order_by()
clause or a default ordering on the model.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, model=None, query=None, using=None, hints=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.__init__', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">hints</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">using</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hints</span> <span class="o">=</span> <span class="n">hints</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span> <span class="ow">or</span> <span class="n">sql</span><span class="o">.</span><span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sticky_filter</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prefetch_related_lookups</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prefetch_done</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_known_related_objects</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># {rel_field, {pk: rel_obj}}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_iterable_class</span> <span class="o">=</span> <span class="n">ModelIterable</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.aggregate">
    <p>def <span class="ident">aggregate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary containing the calculations (aggregation)
over the current queryset</p>
<p>If args is present the expression is passed as a kwarg using
the Aggregate object's default alias.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.aggregate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.aggregate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dictionary containing the calculations (aggregation)</span>
<span class="sd">    over the current queryset</span>
<span class="sd">    If args is present the expression is passed as a kwarg using</span>
<span class="sd">    the Aggregate object&#39;s default alias.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">distinct_fields</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;aggregate() + distinct(fields) not implemented.&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="c1"># The default_alias property may raise a TypeError, so we use</span>
        <span class="c1"># a try/except construct rather than hasattr in order to remain</span>
        <span class="c1"># consistent between PY2 and PY3 (hasattr would swallow</span>
        <span class="c1"># the TypeError on PY2).</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Complex aggregates require an alias&quot;</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span>
    <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="n">aggregate_expr</span><span class="p">)</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">query</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span><span class="n">aggregate_expr</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">is_summary</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">query</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span><span class="o">.</span><span class="n">contains_aggregate</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is not an aggregate expression&quot;</span> <span class="o">%</span> <span class="n">alias</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">query</span><span class="o">.</span><span class="n">get_aggregation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.all">
    <p>def <span class="ident">all</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet that is a copy of the current one. This allows a
QuerySet to proxy for a model manager in some cases.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.all', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.all" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet that is a copy of the current one. This allows a</span>
<span class="sd">    QuerySet to proxy for a model manager in some cases.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.annotate">
    <p>def <span class="ident">annotate</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a query set in which the returned objects have been annotated
with extra data or aggregations.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.annotate', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.annotate" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">annotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a query set in which the returned objects have been annotated</span>
<span class="sd">    with extra data or aggregations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">annotations</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>  <span class="c1"># To preserve ordering of args</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="c1"># The default_alias property may raise a TypeError, so we use</span>
        <span class="c1"># a try/except construct rather than hasattr in order to remain</span>
        <span class="c1"># consistent between PY2 and PY3 (hasattr would swallow</span>
        <span class="c1"># the TypeError on PY2).</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The named annotation &#39;</span><span class="si">%s</span><span class="s2">&#39; conflicts with the &quot;</span>
                                 <span class="s2">&quot;default name for another annotation.&quot;</span>
                                 <span class="o">%</span> <span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Complex annotations require an alias&quot;</span><span class="p">)</span>
        <span class="n">annotations</span><span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">default_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span>
    <span class="n">annotations</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span>
    <span class="k">if</span> <span class="n">names</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_fields</span><span class="p">()}</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">annotation</span> <span class="ow">in</span> <span class="n">annotations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The annotation &#39;</span><span class="si">%s</span><span class="s2">&#39; conflicts with a field on &quot;</span>
                             <span class="s2">&quot;the model.&quot;</span> <span class="o">%</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span><span class="n">annotation</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">is_summary</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">annotation</span> <span class="ow">in</span> <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">annotations</span> <span class="ow">and</span> <span class="n">annotation</span><span class="o">.</span><span class="n">contains_aggregate</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">clone</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">group_by</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">set_group_by</span><span class="p">()</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.as_manager">
    <p>def <span class="ident">as_manager</span>(</p><p>cls)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.as_manager', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.as_manager" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_manager</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="c1"># Address the circular dependency between `Queryset` and `Manager`.</span>
    <span class="kn">from</span> <span class="nn">django.db.models.manager</span> <span class="kn">import</span> <span class="n">Manager</span>
    <span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="o">.</span><span class="n">from_queryset</span><span class="p">(</span><span class="n">cls</span><span class="p">)()</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">_built_with_as_manager</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">manager</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.bulk_create">
    <p>def <span class="ident">bulk_create</span>(</p><p>self, objs, batch_size=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Inserts each of the instances into the database. This does <em>not</em> call
save() on each of the instances, does not send any pre/post save
signals, and does not set the primary key attribute if it is an
autoincrement field. Multi-table models are not supported.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.bulk_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.bulk_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">bulk_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objs</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inserts each of the instances into the database. This does *not* call</span>
<span class="sd">    save() on each of the instances, does not send any pre/post save</span>
<span class="sd">    signals, and does not set the primary key attribute if it is an</span>
<span class="sd">    autoincrement field. Multi-table models are not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># So this case is fun. When you bulk insert you don&#39;t get the primary</span>
    <span class="c1"># keys back (if it&#39;s an autoincrement), so you can&#39;t insert into the</span>
    <span class="c1"># child tables which references this. There are two workarounds, 1)</span>
    <span class="c1"># this could be implemented if you didn&#39;t have an autoincrement pk,</span>
    <span class="c1"># and 2) you could do it by doing O(n) normal inserts into the parent</span>
    <span class="c1"># tables to get the primary keys back, and then doing a single bulk</span>
    <span class="c1"># insert into the childmost table. Some databases might allow doing</span>
    <span class="c1"># this by using RETURNING clause for the insert query. We&#39;re punting</span>
    <span class="c1"># on these for now because they are relatively rare cases.</span>
    <span class="k">assert</span> <span class="n">batch_size</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="c1"># Check that the parents share the same concrete model with the our</span>
    <span class="c1"># model to detect the inheritance pattern ConcreteGrandParent -&gt;</span>
    <span class="c1"># MultiTableParent -&gt; ProxyChild. Simply checking self.model._meta.proxy</span>
    <span class="c1"># would not identify that case as involving multiple tables.</span>
    <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_parent_list</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">parent</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">concrete_model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">concrete_model</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t bulk create a multi-table inherited model&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">objs</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">connections</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">]</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">concrete_fields</span>
    <span class="n">objs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">objs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_pk_values</span><span class="p">(</span><span class="n">objs</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">savepoint</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">can_combine_inserts_with_and_without_auto_increment_pk</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">has_auto_field</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_batched_insert</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">objs_with_pk</span><span class="p">,</span> <span class="n">objs_without_pk</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="n">pk</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">,</span> <span class="n">objs</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">objs_with_pk</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_batched_insert</span><span class="p">(</span><span class="n">objs_with_pk</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">objs_without_pk</span><span class="p">:</span>
                <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fields</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">AutoField</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_batched_insert</span><span class="p">(</span><span class="n">objs_without_pk</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">objs</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_natural_key_public_except_project">
    <p>def <span class="ident">by_natural_key_public_except_project</span>(</p><p>self, structure_type, structure_key, project_id)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_natural_key_public_except_project">by_natural_key_public_except_project</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Exclude the given project id from the query set</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_natural_key_public_except_project', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_natural_key_public_except_project" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">by_natural_key_public_except_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Exclude the given project id from the query set&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                        <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                            <span class="n">Q</span><span class="p">(</span><span class="n">public</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">)</span>
                                        <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_project_and_natural_key">
    <p>def <span class="ident">by_project_and_natural_key</span>(</p><p>self, structure_type, structure_key, project_id)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin">MoleculeDictionaryMixin</a></code>.<code><a href="#chembl_core_db.db.customManagers.MoleculeDictionaryMixin.by_project_and_natural_key">by_project_and_natural_key</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Get the given structure for that project</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_project_and_natural_key', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.by_project_and_natural_key" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">by_project_and_natural_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure_type</span><span class="p">,</span> <span class="n">structure_key</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get the given structure for that project&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>  <span class="n">Q</span><span class="p">(</span><span class="n">structure_type</span><span class="o">=</span><span class="n">structure_type</span><span class="p">)</span> <span class="o">&amp;</span>
                                       <span class="n">Q</span><span class="p">(</span><span class="n">structure_key</span><span class="o">=</span><span class="n">structure_key</span><span class="p">)</span> <span class="o">&amp;</span>
                                       <span class="n">Q</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.complex_filter">
    <p>def <span class="ident">complex_filter</span>(</p><p>self, filter_obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with filter_obj added to the filters.</p>
<p>filter_obj can be a Q object (or anything with an add_to_query()
method) or a dictionary of keyword lookup arguments.</p>
<p>This exists to support framework features such as 'limit_choices_to',
and usually it will be more natural to use other methods.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.complex_filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.complex_filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">complex_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with filter_obj added to the filters.</span>
<span class="sd">    filter_obj can be a Q object (or anything with an add_to_query()</span>
<span class="sd">    method) or a dictionary of keyword lookup arguments.</span>
<span class="sd">    This exists to support framework features such as &#39;limit_choices_to&#39;,</span>
<span class="sd">    and usually it will be more natural to use other methods.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filter_obj</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">filter_obj</span><span class="p">,</span> <span class="s1">&#39;add_to_query&#39;</span><span class="p">):</span>
        <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_q</span><span class="p">(</span><span class="n">filter_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">clone</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_or_exclude</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">filter_obj</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.count">
    <p>def <span class="ident">count</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs a SELECT COUNT() and returns the number of records as an
integer.</p>
<p>If the QuerySet is already fully cached this simply returns the length
of the cached results set to avoid multiple SELECT COUNT(*) calls.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.count', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.count" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a SELECT COUNT() and returns the number of records as an</span>
<span class="sd">    integer.</span>
<span class="sd">    If the QuerySet is already fully cached this simply returns the length</span>
<span class="sd">    of the cached results set to avoid multiple SELECT COUNT(*) calls.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">get_count</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.create">
    <p>def <span class="ident">create</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates a new object with the given kwargs, saving it to the database
and returning the created object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new object with the given kwargs, saving it to the database</span>
<span class="sd">    and returning the created object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">force_insert</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.dates">
    <p>def <span class="ident">dates</span>(</p><p>self, field_name, kind, order=&#39;ASC&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of date objects representing all available dates for
the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.dates', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.dates" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;ASC&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of date objects representing all available dates for</span>
<span class="sd">    the given field_name, scoped to &#39;kind&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;kind&#39; must be one of &#39;year&#39;, &#39;month&#39; or &#39;day&#39;.&quot;</span>
    <span class="k">assert</span> <span class="n">order</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;order&#39; must be either &#39;ASC&#39; or &#39;DESC&#39;.&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
        <span class="n">datefield</span><span class="o">=</span><span class="n">Date</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">),</span>
        <span class="n">plain_field</span><span class="o">=</span><span class="n">F</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">values_list</span><span class="p">(</span>
        <span class="s1">&#39;datefield&#39;</span><span class="p">,</span> <span class="n">flat</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">plain_field__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">((</span><span class="s1">&#39;-&#39;</span> <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;DESC&#39;</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;datefield&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.datetimes">
    <p>def <span class="ident">datetimes</span>(</p><p>self, field_name, kind, order=&#39;ASC&#39;, tzinfo=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a list of datetime objects representing all available
datetimes for the given field_name, scoped to 'kind'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.datetimes', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.datetimes" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">datetimes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of datetime objects representing all available</span>
<span class="sd">    datetimes for the given field_name, scoped to &#39;kind&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;hour&quot;</span><span class="p">,</span> <span class="s2">&quot;minute&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;kind&#39; must be one of &#39;year&#39;, &#39;month&#39;, &#39;day&#39;, &#39;hour&#39;, &#39;minute&#39; or &#39;second&#39;.&quot;</span>
    <span class="k">assert</span> <span class="n">order</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">),</span> \
        <span class="s2">&quot;&#39;order&#39; must be either &#39;ASC&#39; or &#39;DESC&#39;.&quot;</span>
    <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">USE_TZ</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tzinfo</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">get_current_timezone</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tzinfo</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
        <span class="n">datetimefield</span><span class="o">=</span><span class="n">DateTime</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">tzinfo</span><span class="p">),</span>
        <span class="n">plain_field</span><span class="o">=</span><span class="n">F</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">values_list</span><span class="p">(</span>
        <span class="s1">&#39;datetimefield&#39;</span><span class="p">,</span> <span class="n">flat</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">plain_field__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">((</span><span class="s1">&#39;-&#39;</span> <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;DESC&#39;</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;datetimefield&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.defer">
    <p>def <span class="ident">defer</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
    <div class="desc"><p>Defers the loading of data for certain fields until they are accessed.
The set of fields to defer is added to any existing set of deferred
fields. The only exception to this is if None is passed in as the only
parameter, in which case all deferrals are removed (None acts as a
reset option).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.defer', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.defer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">defer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defers the loading of data for certain fields until they are accessed.</span>
<span class="sd">    The set of fields to defer is added to any existing set of deferred</span>
<span class="sd">    fields. The only exception to this is if None is passed in as the only</span>
<span class="sd">    parameter, in which case all deferrals are removed (None acts as a</span>
<span class="sd">    reset option).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call defer() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clear_deferred_loading</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_deferred_loading</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.delete">
    <p>def <span class="ident">delete</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Deletes the records in the current QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.delete', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.delete" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deletes the records in the current QuerySet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot use &#39;limit&#39; or &#39;offset&#39; with delete.&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call delete() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="n">del_query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="c1"># The delete is actually 2 queries - one to find related objects,</span>
    <span class="c1"># and one to delete. Make sure that the discovery of related</span>
    <span class="c1"># objects is performed on the same database as the deletion.</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Disable non-supported fields.</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_for_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_related</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">del_query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clear_ordering</span><span class="p">(</span><span class="n">force_empty</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">collector</span> <span class="o">=</span> <span class="n">Collector</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="n">del_query</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="n">collector</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">del_query</span><span class="p">)</span>
    <span class="n">deleted</span><span class="p">,</span> <span class="n">_rows_count</span> <span class="o">=</span> <span class="n">collector</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
    <span class="c1"># Clear the result cache, in case this QuerySet gets reused.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="n">deleted</span><span class="p">,</span> <span class="n">_rows_count</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.distinct">
    <p>def <span class="ident">distinct</span>(</p><p>self, *field_names)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select only distinct results.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.distinct', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.distinct" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">distinct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will select only distinct results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot create distinct fields once a slice has been taken.&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_distinct_fields</span><span class="p">(</span><span class="o">*</span><span class="n">field_names</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.earliest">
    <p>def <span class="ident">earliest</span>(</p><p>self, field_name=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.earliest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.earliest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">earliest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_earliest_or_latest</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exclude">
    <p>def <span class="ident">exclude</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with NOT (args) ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exclude', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exclude" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with NOT (args) ANDed to the existing</span>
<span class="sd">    set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_or_exclude</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exists">
    <p>def <span class="ident">exists</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exists', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.exists" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">has_results</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.extra">
    <p>def <span class="ident">extra</span>(</p><p>self, select=None, where=None, params=None, tables=None, order_by=None, select_params=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Adds extra SQL fragments to the query.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.extra', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.extra" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">tables</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">order_by</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">select_params</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds extra SQL fragments to the query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot change a query once a slice has been taken&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span><span class="n">select</span><span class="p">,</span> <span class="n">select_params</span><span class="p">,</span> <span class="n">where</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">tables</span><span class="p">,</span> <span class="n">order_by</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.filter">
    <p>def <span class="ident">filter</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the args ANDed to the existing
set.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.filter', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.filter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with the args ANDed to the existing</span>
<span class="sd">    set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_or_exclude</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the first object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.first', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the first object of a query, returns None if no match is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">((</span><span class="bp">self</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ordered</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;pk&#39;</span><span class="p">))[:</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">objects</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get">
    <p>def <span class="ident">get</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Performs the query and returns a single object matching the given
keyword arguments.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the query and returns a single object matching the given</span>
<span class="sd">    keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">distinct_fields</span><span class="p">:</span>
        <span class="n">clone</span> <span class="o">=</span> <span class="n">clone</span><span class="o">.</span><span class="n">order_by</span><span class="p">()</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clone</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">clone</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">num</span><span class="p">:</span>
        <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> matching query does not exist.&quot;</span> <span class="o">%</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span>
        <span class="p">)</span>
    <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">MultipleObjectsReturned</span><span class="p">(</span>
        <span class="s2">&quot;get() returned more than one </span><span class="si">%s</span><span class="s2"> -- it returned </span><span class="si">%s</span><span class="s2">!&quot;</span> <span class="o">%</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get_or_create">
    <p>def <span class="ident">get_or_create</span>(</p><p>self, defaults=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, creating one if necessary.
Returns a tuple of (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.get_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_or_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Looks up an object with the given kwargs, creating one if necessary.</span>
<span class="sd">    Returns a tuple of (object, created), where created is a boolean</span>
<span class="sd">    specifying whether an object was created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lookup</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_model_params</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c1"># The get() needs to be targeted at the write database in order</span>
    <span class="c1"># to avoid potential transaction consistency problems.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">lookup</span><span class="p">),</span> <span class="bp">False</span>
    <span class="k">except</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_object_from_params</span><span class="p">(</span><span class="n">lookup</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.in_bulk">
    <p>def <span class="ident">in_bulk</span>(</p><p>self, id_list)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dictionary mapping each of the given IDs to the object with
that ID.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.in_bulk', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.in_bulk" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">in_bulk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dictionary mapping each of the given IDs to the object with</span>
<span class="sd">    that ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot use &#39;limit&#39; or &#39;offset&#39; with in_bulk&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">id_list</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">qs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">pk__in</span><span class="o">=</span><span class="n">id_list</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">obj</span><span class="o">.</span><span class="n">_get_pk_val</span><span class="p">():</span> <span class="n">obj</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">qs</span><span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.is_compatible_query_object_type">
    <p>def <span class="ident">is_compatible_query_object_type</span>(</p><p>self, opts, field)</p>
    </div>
    

    
  
    <div class="desc"><p>Check that using this queryset as the rhs value for a lookup is
allowed. The opts are the options of the relation's target we are
querying against. For example in .filter(author__in=Author.objects.all())
the opts would be Author's (from the author field) and self.model would
be Author.objects.all() queryset's .model (Author also). The field is
the related field on the lhs side.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.is_compatible_query_object_type', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.is_compatible_query_object_type" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">is_compatible_query_object_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opts</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check that using this queryset as the rhs value for a lookup is</span>
<span class="sd">    allowed. The opts are the options of the relation&#39;s target we are</span>
<span class="sd">    querying against. For example in .filter(author__in=Author.objects.all())</span>
<span class="sd">    the opts would be Author&#39;s (from the author field) and self.model would</span>
<span class="sd">    be Author.objects.all() queryset&#39;s .model (Author also). The field is</span>
<span class="sd">    the related field on the lhs side.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We trust that users of values() know what they are doing.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">check_rel_lookup_compatibility</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">opts</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.iterator">
    <p>def <span class="ident">iterator</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>An iterator over the results from applying this QuerySet to the
database.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.iterator', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.iterator" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An iterator over the results from applying this QuerySet to the</span>
<span class="sd">    database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iterable_class</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns the last object of a query, returns None if no match is found.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.last', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the last object of a query, returns None if no match is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ordered</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-pk&#39;</span><span class="p">))[:</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">objects</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.latest">
    <p>def <span class="ident">latest</span>(</p><p>self, field_name=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.latest', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.latest" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">latest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_earliest_or_latest</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.none">
    <p>def <span class="ident">none</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns an empty QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.none', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.none" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">none</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns an empty QuerySet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">set_empty</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.only">
    <p>def <span class="ident">only</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
    <div class="desc"><p>Essentially, the opposite of defer. Only the fields passed into this
method and that are not already specified as deferred are loaded
immediately when the queryset is evaluated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.only', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.only" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">only</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Essentially, the opposite of defer. Only the fields passed into this</span>
<span class="sd">    method and that are not already specified as deferred are loaded</span>
<span class="sd">    immediately when the queryset is evaluated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call only() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="c1"># Can only pass None to defer(), not only(), as the rest option.</span>
        <span class="c1"># That won&#39;t stop people trying to do this, so let&#39;s be explicit.</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot pass None as an argument to only().&quot;</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_immediate_loading</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.order_by">
    <p>def <span class="ident">order_by</span>(</p><p>self, *field_names)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance with the ordering changed.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.order_by', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.order_by" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">order_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance with the ordering changed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot reorder a query once a slice has been taken.&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clear_ordering</span><span class="p">(</span><span class="n">force_empty</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_ordering</span><span class="p">(</span><span class="o">*</span><span class="n">field_names</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.prefetch_related">
    <p>def <span class="ident">prefetch_related</span>(</p><p>self, *lookups)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will prefetch the specified
Many-To-One and Many-To-Many related objects when the QuerySet is
evaluated.</p>
<p>When prefetch_related() is called more than once, the list of lookups to
prefetch is appended to. If prefetch_related(None) is called, the list
is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.prefetch_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.prefetch_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">prefetch_related</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">lookups</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will prefetch the specified</span>
<span class="sd">    Many-To-One and Many-To-Many related objects when the QuerySet is</span>
<span class="sd">    evaluated.</span>
<span class="sd">    When prefetch_related() is called more than once, the list of lookups to</span>
<span class="sd">    prefetch is appended to. If prefetch_related(None) is called, the list</span>
<span class="sd">    is cleared.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">lookups</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">_prefetch_related_lookups</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">_prefetch_related_lookups</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">lookups</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.raw">
    <p>def <span class="ident">raw</span>(</p><p>self, raw_query, params=None, translations=None, using=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.raw', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.raw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_query</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">translations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">using</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">using</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span>
    <span class="k">return</span> <span class="n">RawQuerySet</span><span class="p">(</span><span class="n">raw_query</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">translations</span><span class="o">=</span><span class="n">translations</span><span class="p">,</span>
            <span class="n">using</span><span class="o">=</span><span class="n">using</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.reverse">
    <p>def <span class="ident">reverse</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Reverses the ordering of the QuerySet.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.reverse', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.reverse" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reverses the ordering of the QuerySet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">standard_ordering</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">clone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">standard_ordering</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_for_update">
    <p>def <span class="ident">select_for_update</span>(</p><p>self, nowait=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select objects with a
FOR UPDATE lock.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_for_update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_for_update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select_for_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nowait</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will select objects with a</span>
<span class="sd">    FOR UPDATE lock.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_for_update</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_for_update_nowait</span> <span class="o">=</span> <span class="n">nowait</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_related">
    <p>def <span class="ident">select_related</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a new QuerySet instance that will select related objects.</p>
<p>If fields are specified, they must be ForeignKey fields and only those
related objects are included in the selection.</p>
<p>If select_related(None) is called, the list is cleared.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_related', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.select_related" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select_related</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new QuerySet instance that will select related objects.</span>
<span class="sd">    If fields are specified, they must be ForeignKey fields and only those</span>
<span class="sd">    related objects are included in the selection.</span>
<span class="sd">    If select_related(None) is called, the list is cleared.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Cannot call select_related() after .values() or .values_list()&quot;</span><span class="p">)</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fields</span> <span class="o">==</span> <span class="p">(</span><span class="bp">None</span><span class="p">,):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_related</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">elif</span> <span class="n">fields</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">add_select_related</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">select_related</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update">
    <p>def <span class="ident">update</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Updates all elements in the current QuerySet, setting all the given
fields to the appropriate values.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates all elements in the current QuerySet, setting all the given</span>
<span class="sd">    fields to the appropriate values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">can_filter</span><span class="p">(),</span> \
        <span class="s2">&quot;Cannot update a query once a slice has been taken.&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">sql</span><span class="o">.</span><span class="n">UpdateQuery</span><span class="p">)</span>
    <span class="n">query</span><span class="o">.</span><span class="n">add_update_values</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">savepoint</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">get_compiler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span><span class="o">.</span><span class="n">execute_sql</span><span class="p">(</span><span class="n">CURSOR</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_result_cache</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="n">rows</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update_or_create">
    <p>def <span class="ident">update_or_create</span>(</p><p>self, defaults=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Looks up an object with the given kwargs, updating one with defaults
if it exists, otherwise creates a new one.
Returns a tuple (object, created), where created is a boolean
specifying whether an object was created.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update_or_create', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.update_or_create" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_or_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Looks up an object with the given kwargs, updating one with defaults</span>
<span class="sd">    if it exists, otherwise creates a new one.</span>
<span class="sd">    Returns a tuple (object, created), where created is a boolean</span>
<span class="sd">    specifying whether an object was created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">defaults</span> <span class="o">=</span> <span class="n">defaults</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">lookup</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_model_params</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_for_write</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">lookup</span><span class="p">)</span>
    <span class="k">except</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
        <span class="n">obj</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_object_from_params</span><span class="p">(</span><span class="n">lookup</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">created</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span><span class="p">,</span> <span class="n">created</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="n">defaults</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">savepoint</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span><span class="p">,</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.using">
    <p>def <span class="ident">using</span>(</p><p>self, alias)</p>
    </div>
    

    
  
    <div class="desc"><p>Selects which database this QuerySet should execute its query against.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.using', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.using" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">using</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Selects which database this QuerySet should execute its query against.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clone</span><span class="p">()</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">alias</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values">
    <p>def <span class="ident">values</span>(</p><p>self, *fields)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">):</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values</span><span class="p">(</span><span class="o">*</span><span class="n">fields</span><span class="p">)</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">_iterable_class</span> <span class="o">=</span> <span class="n">ValuesIterable</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values_list">
    <p>def <span class="ident">values_list</span>(</p><p>self, *fields, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values_list', this);">Show source &equiv;</a></p>
  <div id="source-chembl_core_db.db.customManagers.MoleculeDictionaryQuerySet.values_list" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">values_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fields</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">flat</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Unexpected keyword arguments to values_list: </span><span class="si">%s</span><span class="s1">&#39;</span>
                <span class="o">%</span> <span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="p">),))</span>
    <span class="k">if</span> <span class="n">flat</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;flat&#39; is not valid when values_list is called with more than one field.&quot;</span><span class="p">)</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values</span><span class="p">(</span><span class="o">*</span><span class="n">fields</span><span class="p">)</span>
    <span class="n">clone</span><span class="o">.</span><span class="n">_iterable_class</span> <span class="o">=</span> <span class="n">FlatValuesListIterable</span> <span class="k">if</span> <span class="n">flat</span> <span class="k">else</span> <span class="n">ValuesListIterable</span>
    <span class="k">return</span> <span class="n">clone</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
